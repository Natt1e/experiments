Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai
Starting a Gradle Daemon, 1 incompatible and 1 stopped Daemons could not be reused, use --status for details

> Configure project :
Building version '5.7.1-SNAPSHOT'
  - reason: shipkit-auto-version deduced snapshot based on tag: 'v5.7.0'

> Task :kotlinTest:checkKotlinGradlePluginConfigurationErrors
> Task :kotlinReleaseCoroutinesTest:checkKotlinGradlePluginConfigurationErrors
> Task :inlineTest:processResources NO-SOURCE
> Task :extTest:compileJava NO-SOURCE
> Task :groovyTest:compileJava NO-SOURCE
> Task :junitJupiterInlineMockMakerExtensionTest:compileJava NO-SOURCE
> Task :module-test:processResources NO-SOURCE
> Task :java21:processResources NO-SOURCE
> Task :groovyInlineTest:compileJava NO-SOURCE
> Task :memory-test:processResources NO-SOURCE
> Task :kotlinTest:compileKotlin NO-SOURCE
> Task :junitJupiterParallelTest:compileJava NO-SOURCE
> Task :junit-jupiter:processResources NO-SOURCE
> Task :errorprone:processResources NO-SOURCE
> Task :junitJupiterExtensionTest:compileJava NO-SOURCE
> Task :kotlinReleaseCoroutinesTest:compileKotlin NO-SOURCE
> Task :android:processResources UP-TO-DATE
> Task :junit-jupiter:processTestResources NO-SOURCE
> Task :errorprone:processTestResources NO-SOURCE
> Task :junitJupiterParallelTest:processResources NO-SOURCE
> Task :junitJupiterExtensionTest:processResources NO-SOURCE
> Task :junitJupiterInlineMockMakerExtensionTest:processResources NO-SOURCE
> Task :kotlinTest:compileJava NO-SOURCE
> Task :junitJupiterParallelTest:classes UP-TO-DATE
> Task :junitJupiterInlineMockMakerExtensionTest:classes UP-TO-DATE
> Task :junitJupiterExtensionTest:classes UP-TO-DATE
> Task :extTest:processResources NO-SOURCE
> Task :extTest:classes UP-TO-DATE
> Task :kotlinTest:processResources NO-SOURCE
> Task :kotlinTest:classes UP-TO-DATE
> Task :groovyTest:compileGroovy NO-SOURCE
> Task :groovyInlineTest:compileGroovy NO-SOURCE
> Task :kotlinReleaseCoroutinesTest:compileJava NO-SOURCE
> Task :module-test:processTestResources NO-SOURCE
> Task :android:processTestResources NO-SOURCE
> Task :memory-test:processTestResources NO-SOURCE
> Task :java21:processTestResources NO-SOURCE
> Task :programmatic-test:processResources NO-SOURCE
> Task :kotlinReleaseCoroutinesTest:processResources NO-SOURCE
> Task :groovyInlineTest:processResources NO-SOURCE
> Task :kotlinReleaseCoroutinesTest:classes UP-TO-DATE
> Task :groovyInlineTest:classes UP-TO-DATE
> Task :programmatic-test:processTestResources NO-SOURCE
> Task :groovyTest:processResources NO-SOURCE
> Task :groovyInlineTest:processTestResources NO-SOURCE
> Task :groovyTest:classes UP-TO-DATE
> Task :junitJupiterParallelTest:processTestResources UP-TO-DATE
> Task :groovyTest:processTestResources NO-SOURCE
> Task :kotlinTest:processTestResources UP-TO-DATE
> Task :extTest:processTestResources UP-TO-DATE
> Task :junitJupiterInlineMockMakerExtensionTest:processTestResources UP-TO-DATE
> Task :kotlinReleaseCoroutinesTest:processTestResources UP-TO-DATE
> Task :subclass:processResources UP-TO-DATE
> Task :junitJupiterExtensionTest:processTestResources UP-TO-DATE
> Task :proxy:processResources UP-TO-DATE
> Task :proxy:processTestResources NO-SOURCE
> Task :inlineTest:processTestResources NO-SOURCE
> Task :subclass:processTestResources NO-SOURCE
> Task :osgi-test:compileOtherBundleJava UP-TO-DATE
> Task :osgi-test:processOtherBundleResources NO-SOURCE
> Task :osgi-test:otherBundleClasses UP-TO-DATE
> Task :osgi-test:otherBundle UP-TO-DATE
> Task :osgi-test:processTestBundleResources NO-SOURCE
> Task :osgi-test:compileJava NO-SOURCE
> Task :osgi-test:processResources NO-SOURCE
> Task :osgi-test:classes UP-TO-DATE
> Task :osgi-test:processTestResources NO-SOURCE
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

> Task :compileJava

> Task :memory-test:compileJava NO-SOURCE
> Task :memory-test:classes UP-TO-DATE
> Task :module-test:compileJava NO-SOURCE
> Task :java21:compileJava NO-SOURCE
> Task :java21:classes UP-TO-DATE
> Task :proxy:compileJava NO-SOURCE
> Task :proxy:classes UP-TO-DATE
> Task :inlineTest:compileJava NO-SOURCE
> Task :inlineTest:classes UP-TO-DATE
> Task :module-test:classes UP-TO-DATE
> Task :subclass:compileJava NO-SOURCE
> Task :subclass:classes UP-TO-DATE
> Task :programmatic-test:compileJava NO-SOURCE
> Task :programmatic-test:classes UP-TO-DATE
> Task :copyMockMethodDispatcher UP-TO-DATE
> Task :processResources NO-SOURCE
> Task :classes
> Task :proxy:compileTestJava UP-TO-DATE
> Task :proxy:testClasses UP-TO-DATE
> Task :memory-test:compileTestJava UP-TO-DATE
> Task :memory-test:testClasses UP-TO-DATE
> Task :osgi-test:compileTestBundleJava UP-TO-DATE
> Task :errorprone:compileJava UP-TO-DATE
> Task :osgi-test:testBundleClasses UP-TO-DATE
> Task :subclass:compileTestJava UP-TO-DATE
> Task :errorprone:classes UP-TO-DATE
> Task :subclass:testClasses UP-TO-DATE
> Task :module-test:compileTestJava UP-TO-DATE
> Task :module-test:testClasses UP-TO-DATE
> Task :programmatic-test:compileTestJava UP-TO-DATE
> Task :programmatic-test:testClasses UP-TO-DATE
> Task :junit-jupiter:compileJava UP-TO-DATE
> Task :junit-jupiter:classes UP-TO-DATE
> Task :inlineTest:compileTestJava UP-TO-DATE
> Task :inlineTest:testClasses UP-TO-DATE
> Task :android:compileJava UP-TO-DATE
> Task :android:classes UP-TO-DATE
> Task :osgi-test:testBundle UP-TO-DATE
> Task :android:compileTestJava NO-SOURCE
> Task :android:testClasses UP-TO-DATE
> Task :junitJupiterInlineMockMakerExtensionTest:compileTestJava UP-TO-DATE
> Task :junitJupiterInlineMockMakerExtensionTest:testClasses UP-TO-DATE
> Task :junitJupiterParallelTest:compileTestJava UP-TO-DATE
> Task :junitJupiterParallelTest:testClasses UP-TO-DATE
> Task :junitJupiterExtensionTest:compileTestJava UP-TO-DATE
> Task :junitJupiterExtensionTest:testClasses UP-TO-DATE
> Task :osgi-test:compileTestJava UP-TO-DATE
> Task :osgi-test:testClasses UP-TO-DATE
> Task :junit-jupiter:compileTestJava UP-TO-DATE
> Task :junit-jupiter:testClasses UP-TO-DATE
> Task :errorprone:compileTestJava UP-TO-DATE
> Task :errorprone:testClasses UP-TO-DATE
> Task :kotlinReleaseCoroutinesTest:compileTestKotlin UP-TO-DATE
> Task :kotlinTest:compileTestKotlin UP-TO-DATE
> Task :kotlinReleaseCoroutinesTest:compileTestJava NO-SOURCE
> Task :kotlinReleaseCoroutinesTest:testClasses UP-TO-DATE
> Task :kotlinTest:compileTestJava NO-SOURCE
> Task :kotlinTest:testClasses UP-TO-DATE
> Task :java21:compileTestJava
> Task :java21:testClasses
> Task :jar
> Task :groovyTest:compileTestJava NO-SOURCE
> Task :android:test NO-SOURCE
> Task :groovyInlineTest:compileTestJava NO-SOURCE
> Task :android:retryTest SKIPPED
> Task :junit-jupiter:jar

> Task :inlineTest:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended


> Task :java21:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :kotlinReleaseCoroutinesTest:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai


> Task :programmatic-test:test
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :proxy:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

> Task :subclass:test


OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
> Task :memory-test:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai


OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
> Task :osgi-test:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

> Task :compileTestJava
> Task :processTestResources NO-SOURCE
> Task :createTestResources
> Task :testClasses

> Task :module-test:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :kotlinTest:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :errorprone:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai
WARNING: package com.sun.tools.javac.type not in jdk.compiler

> Task :groovyTest:compileTestGroovy
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

> Task :groovyInlineTest:compileTestGroovy
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :junit-jupiter:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

> Task :extTest:compileTestJava UP-TO-DATE
> Task :extTest:testClasses UP-TO-DATE

> Task :junitJupiterExtensionTest:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

> Task :groovyTest:testClasses

> Task :junitJupiterInlineMockMakerExtensionTest:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

> Task :groovyInlineTest:testClasses

Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai
> Task :test

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :extTest:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :java21:test

org.mockito.internal.stubbing.answers.DeepStubReturnsEnumJava21Test > deep_stub_can_mock_enum_without_method_in_Java21_Issue_2984 FAILED
    org.junit.ComparisonFailure at DeepStubReturnsEnumJava21Test.java:68

org.mockito.internal.stubbing.answers.DeepStubReturnsEnumJava21Test > cant_mock_enum_class_in_Java21_Issue_2984 FAILED
    java.lang.AssertionError at DeepStubReturnsEnumJava21Test.java:23

org.mockito.internal.stubbing.answers.DeepStubReturnsEnumJava21Test > cant_mock_enum_class_as_deep_stub_in_Java21_Issue_2984 FAILED
    java.lang.AssertionError at DeepStubReturnsEnumJava21Test.java:34

org.mockito.internal.stubbing.answers.DeepStubReturnsEnumJava21Test > deep_stub_cant_mock_enum_with_abstract_method_in_Java21_Issue_2984 FAILED
    java.lang.AssertionError at DeepStubReturnsEnumJava21Test.java:41

org.mockito.internal.stubbing.answers.DeepStubReturnsEnumJava21Test > deep_stub_can_mock_enum_without_abstract_method_in_Java21_Issue_2984 FAILED
    org.junit.ComparisonFailure at DeepStubReturnsEnumJava21Test.java:77

> Task :programmatic-test:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai
> Task :groovyTest:test

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :groovyInlineTest:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

> Task :java21:test FAILED

8 tests completed, 5 failed

> Task :proxy:retryTest SKIPPED
> Task :subclass:retryTest SKIPPED

> Task :junitJupiterParallelTest:test
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :errorprone:retryTest SKIPPED
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
> Task :junit-jupiter:retryTest SKIPPED
Failed to map supported failure 'org.opentest4j.AssertionFailedError: 
expected: null
 but was: "A"' with mapper 'org.gradle.api.internal.tasks.testing.failure.mappers.OpenTestAssertionFailedMapper@3bdcd948': Cannot invoke "Object.getClass()" because "expectedValue" is null

> Task :test

org.mockito.internal.stubbing.answers.DeepStubReturnsEnumJava11Test > deep_stub_can_mock_enum_method_Issue_2984 FAILED
    org.opentest4j.AssertionFailedError: 
    expected: null
     but was: "A"
        at java.base@21.0.10/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
        at java.base@21.0.10/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
        at app//org.mockito.internal.stubbing.answers.DeepStubReturnsEnumJava11Test.deep_stub_can_mock_enum_method_Issue_2984(DeepStubReturnsEnumJava11Test.java:34)
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended


> Task :test

[retryTest] wrote 1 failed tests to: build/test-failures.txt
There were failing tests. See the report at: file:///home/mockito/build/reports/tests/test/index.html

2261 tests completed, 1 failed, 72 skipped
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
Failed to map supported failure 'org.opentest4j.AssertionFailedError: 
expected: null
 but was: "A"' with mapper 'org.gradle.api.internal.tasks.testing.failure.mappers.OpenTestAssertionFailedMapper@1fd9893c': Cannot invoke "Object.getClass()" because "expectedValue" is null

> Task :retryTest FAILED
[retryTest] retrying 1 test(s).

org.mockito.internal.stubbing.answers.DeepStubReturnsEnumJava11Test > deep_stub_can_mock_enum_method_Issue_2984 FAILED
    org.opentest4j.AssertionFailedError: 
    expected: null
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Duser.timezone=Asia/Shanghai

1 test completed, 1 failed
     but was: "A"
        at java.base@21.0.10/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
        at java.base@21.0.10/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
        at app//org.mockito.internal.stubbing.answers.DeepStubReturnsEnumJava11Test.deep_stub_can_mock_enum_method_Issue_2984(DeepStubReturnsEnumJava11Test.java:34)

[retryTest] retried 1 test(s), 1 still failed.

FAILURE: Build completed with 2 failures.

1: Task failed with an exception.
-----------
* What went wrong:
Execution failed for task ':java21:test'.
> There were failing tests. See the report at: file:///home/mockito/subprojects/java21/build/reports/tests/test/index.html

> Task :removeTestResources
==============================================================================

2: Task failed with an exception.
-----------
* What went wrong:
Execution failed for task ':retryTest'.

> There were failing tests. See the report at: file:///home/mockito/build/reports/tests/retryTest/index.html
Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.
==============================================================================

You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.

For more on this, please refer to https://docs.gradle.org/8.4/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.

BUILD FAILED in 3m 27s
63 actionable tasks: 31 executed, 32 up-to-date
